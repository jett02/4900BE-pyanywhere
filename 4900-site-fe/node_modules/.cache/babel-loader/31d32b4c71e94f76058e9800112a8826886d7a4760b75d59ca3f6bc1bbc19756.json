{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav justify-content-end\"\n};\nconst _hoisted_2 = {\n  class: \"SB\"\n};\nconst _hoisted_3 = {\n  class: \"nav-item active\"\n};\nconst _hoisted_4 = {\n  class: \"nav-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_emp = _resolveComponent(\"emp\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"ul\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_emp, null, {\n    default: _withCtx(() => [_createTextVNode(\"Smokey's Barbeque \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Home\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), _createElementVNode(\"li\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Menu'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Menu\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")]), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 0,\n    class: \"nav-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.register && $options.register(...args))\n  }, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Register'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" | \")])) : _createCommentVNode(\"v-if\", true), !_ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 1,\n    class: \"nav-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.login && $options.login(...args))\n  }, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Log in\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _ctx.authenticated ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 2,\n    class: \"nav-item .justify-content-end\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Auth'\n    }\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Logout\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_emp","_hoisted_3","_component_router_link","to","_hoisted_4","name","_ctx","authenticated","_createElementBlock","onClick","_cache","args","$options","register","login","logout","_component_router_view"],"sources":["C:\\Users\\jphus\\PycharmProjects\\4900-Site-BE\\4900-site-fe\\src\\App.vue"],"sourcesContent":["<template>\r\n  <ul class=\"nav justify-content-end\">\r\n     <div class=\"SB\"><emp>Smokey's Barbeque </emp></div>\r\n     <li class=\"nav-item active\">\r\n         <router-link to=\"/\">Home</router-link> |\r\n     </li>\r\n     <li class=\"nav-item\">\r\n         <router-link :to=\"{name: 'Menu'}\">Menu</router-link> |\r\n     </li>\r\n     <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"register\" >\r\n         <router-link :to=\"{name: 'Register'}\">Register</router-link> |\r\n     </li>\r\n     <li class=\"nav-item\" v-if=\"!authenticated\" @click=\"login\" >\r\n         <router-link :to=\"{name: 'Auth'}\">Log in</router-link>\r\n     </li>\r\n     <li class=\"nav-item  .justify-content-end\" v-if=\"authenticated\" @click=\"logout\" >\r\n         <router-link :to=\"{name: 'Auth'}\">Logout</router-link>\r\n     </li>\r\n </ul>\r\n <router-view/>\r\n</template>\r\n<script>\r\n import router from './router';\r\n import {APIService} from './http/APIService';\r\n const apiService = new APIService();\r\n\r\n export default {\r\n     name: 'App',\r\n     data: () => ({\r\n         authenticated: false,\r\n         dialog: false,\r\n         menu: [\r\n             { title: 'Home', url:\"/\"},\r\n             { title: 'Menu', url:\"/menu\" },\r\n         ]\r\n     }),\r\n     mounted() {\r\n       if (localStorage.getItem(\"isAuthenticated\") &&\r\n           JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true ){\r\n           this.authenticated = true\r\n       }else {\r\n           this.authenticated = false\r\n       }\r\n       if(this.authenticated === true) {\r\n         apiService.getCustomerList().then(response => {\r\n             this.authenticated = true;\r\n         }).catch(error => {\r\n             if (error.response.status === 401) {\r\n               localStorage.clear();\r\n               localStorage.setItem(\"isAuthenticated\", false);\r\n               this.authenticated = false;\r\n             }\r\n         });\r\n       } \r\n     },\r\n     methods: {\r\n       getUser() {\r\n           if (localStorage.getItem(\"isAuthenticated\") &&\r\n            JSON.parse(localStorage.getItem(\"isAuthenticated\")) === true\r\n           ) {\r\n            this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\r\n            } \r\n       },\r\n         logout() {\r\n           //clear local storage items and set authenticated to false\r\n           localStorage.clear();\r\n           localStorage.setItem(\"isAuthenticated\", false);\r\n           this.authenticated = false;\r\n           window.location = \"/\";\r\n         },\r\n         login() {\r\n             router.push(\"/auth\");\r\n         },\r\n         home() {\r\n           window.location = \"/\";\r\n           },\r\n       register() {\r\n           router.push(\"/register\");\r\n       }\r\n   }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n #app {\r\n     font-family: Avenir, Helvetica, Arial, sans-serif;\r\n     -webkit-font-smoothing: antialiased;\r\n     -moz-osx-font-smoothing: grayscale;\r\n     text-align: center;\r\n     color: black;\r\n }\r\n #nav {\r\n     padding: 30px;\r\n     background-color: #442027;\r\n     a {\r\n         font-weight: bold;\r\n         color: #FFF4C3;\r\n         &.router-link-exact-active {\r\n             color: #FFF4C3;\r\n         }\r\n     }\r\n }\r\n .nav {\r\n     padding: 1em;\r\n     background-color: #442027;\r\n     \r\n     li {\r\n         font-weight: bold;\r\n         color: #FFF4C3;\r\n     }\r\n     a {\r\n         color: #FFF4C3;\r\n         padding: .5em;\r\n\r\n         &.router-link-exact-active {\r\n             color: #FFF4C3;\r\n         }\r\n     }\r\n     .SB{\r\n         margin-right: 45em;\r\n         font-size: medium;\r\n         color: #FFF4C3\r\n     }\r\n }\r\n</style>"],"mappings":";;EACMA,KAAK,EAAC;AAAyB;;EAC3BA,KAAK,EAAC;AAAI;;EACXA,KAAK,EAAC;AAAiB;;EAGvBA,KAAK,EAAC;AAAU;;;;;6DALvBC,mBAAA,CAiBI,MAjBJC,UAiBI,GAhBDD,mBAAA,CAAmD,OAAnDE,UAAmD,GAAnCC,YAAA,CAA6BC,cAAA;sBAAxB,MAAkB,C,iBAAlB,oBAAkB,E;;QACvCJ,mBAAA,CAEK,MAFLK,UAEK,GADDF,YAAA,CAAsCG,sBAAA;IAAzBC,EAAE,EAAC;EAAG;sBAAC,MAAI,C,iBAAJ,MAAI,E;;uBAAc,KAC1C,E,GACAP,mBAAA,CAEK,MAFLQ,UAEK,GADDL,YAAA,CAAoDG,sBAAA;IAAtCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAI,C,iBAAJ,MAAI,E;;uBAAc,KACxD,E,IAC4BC,IAAA,CAAAC,aAAa,I,cAAzCC,mBAAA,CAEK;;IAFDb,KAAK,EAAC,UAAU;IAAwBc,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,QAAA,IAAAD,QAAA,CAAAC,QAAA,IAAAF,IAAA,CAAQ;MACvDZ,YAAA,CAA4DG,sBAAA;IAA9CC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAkB;sBAAE,MAAQ,C,iBAAR,UAAQ,E;;uBAAc,KAChE,E,yCAC4BC,IAAA,CAAAC,aAAa,I,cAAzCC,mBAAA,CAEK;;IAFDb,KAAK,EAAC,UAAU;IAAwBc,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAE,KAAA,IAAAF,QAAA,CAAAE,KAAA,IAAAH,IAAA,CAAK;MACpDZ,YAAA,CAAsDG,sBAAA;IAAxCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAM,C,iBAAN,QAAM,E;;6CAEKC,IAAA,CAAAC,aAAa,I,cAA9DC,mBAAA,CAEK;;IAFDb,KAAK,EAAC,+BAAgC;IAAuBc,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,MAAA,IAAAH,QAAA,CAAAG,MAAA,IAAAJ,IAAA,CAAM;MAC1EZ,YAAA,CAAsDG,sBAAA;IAAxCC,EAAE,EAAE;MAAAE,IAAA;IAAA;EAAc;sBAAE,MAAM,C,iBAAN,QAAM,E;;+CAGhDN,YAAA,CAAciB,sBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}